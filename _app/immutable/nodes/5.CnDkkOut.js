import{s as B,a as p,e as T,k as V,f as h,c as $,b as q,d as A,h as D,i as d,l as N}from"../chunks/scheduler.Dvs-jFdc.js";import{S as U,i as C,c as y,a as S,m as E,t as _,e as H,b as g,d as I,g as M}from"../chunks/index.BjOfQeiC.js";import{g as P}from"../chunks/globals.D0QH3NT1.js";import{e as v}from"../chunks/each.D6YF6ztN.js";import{A as j}from"../chunks/ArticleView.CbjEQfcP.js";import{S as z}from"../chunks/SiteNavigation.CjUQc6UQ.js";const{document:w}=P;function k(i,n,r){const a=i.slice();return a[4]=n[r],a[6]=r,a}function b(i){let n,r;return n=new j({props:{article:i[4],id:i[1](i[4]),clickUp:i[2](i[6]),clickDown:i[3](i[6])}}),{c(){y(n.$$.fragment)},l(a){S(n.$$.fragment,a)},m(a,s){E(n,a,s),r=!0},p(a,s){const c={};s&1&&(c.article=a[4]),s&1&&(c.id=a[1](a[4])),n.$set(c)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){g(n.$$.fragment,a),r=!1},d(a){I(n,a)}}}function F(i){let n,r,a,s,c;r=new z({props:{showHome:!0}});let m=v(i[0].articles),e=[];for(let t=0;t<m.length;t+=1)e[t]=b(k(i,m,t));const f=t=>g(e[t],1,1,()=>{e[t]=null});return{c(){n=p(),y(r.$$.fragment),a=p(),s=T("main");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){V("svelte-gg71qv",w.head).forEach(h),n=$(t),S(r.$$.fragment,t),a=$(t),s=q(t,"MAIN",{class:!0});var o=A(s);for(let u=0;u<e.length;u+=1)e[u].l(o);o.forEach(h),this.h()},h(){w.title="The Spyglass | past issues",D(s,"class","w-fit overflow-auto m-auto")},m(t,l){d(t,n,l),E(r,t,l),d(t,a,l),d(t,s,l);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,null);c=!0},p(t,[l]){if(l&15){m=v(t[0].articles);let o;for(o=0;o<m.length;o+=1){const u=k(t,m,o);e[o]?(e[o].p(u,l),_(e[o],1)):(e[o]=b(u),e[o].c(),_(e[o],1),e[o].m(s,null))}for(M(),o=m.length;o<e.length;o+=1)f(o);H()}},i(t){if(!c){_(r.$$.fragment,t);for(let l=0;l<m.length;l+=1)_(e[l]);c=!0}},o(t){g(r.$$.fragment,t),e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)g(e[l]);c=!1},d(t){t&&(h(n),h(a),h(s)),I(r,t),N(e,t)}}}function G(i,n,r){let{data:a}=n;const s=e=>e.shortTitle.replaceAll(" ","-"),c=e=>{if(!(e<=0))return()=>{const f=document.getElementById(s(a.articles[e-1]));f==null||f.scrollIntoView({behavior:"smooth"})}},m=e=>{if(!(e>=a.articles.length-1))return()=>{const f=document.getElementById(s(a.articles[e+1]));f==null||f.scrollIntoView({behavior:"smooth"})}};return i.$$set=e=>{"data"in e&&r(0,a=e.data)},[a,s,c,m]}class W extends U{constructor(n){super(),C(this,n,G,F,B,{data:0})}}export{W as component};
